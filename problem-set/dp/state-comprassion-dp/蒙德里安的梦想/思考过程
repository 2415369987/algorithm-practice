
观察题目给出的摆放小方块的测试用例，可以发现总方案数等于横着摆放小方块的方案数，因为当横着摆放小方块的确定，那么竖着的小方块只需插入空位即可。即对每一种合法的横着摆放小方块的方案都可以唯一确定一种竖放的方式，那么得出结论：只需要考虑横着摆放的小方块的合法方案即可。

题目需要求解方案数，计数问题，考虑 dp，将每列划分为一个阶段，可以发现当前阶段放横着的小方块的方式有 $2^k$ 种，即当前阶段有 $2^k$ 种状态，每种状态都有可以找到一个从上一个阶段转移的方式，同时上一个阶段找到来自上上个阶段的转移方式，即满足子问题最优性和重叠性。同时当我们从小到大枚举列时，阶段 i 无法从大于 i 的阶段进行转移，满足无后效性。即可以使用 dp 解决。

状态定义：

f\[i][j] 表示前 i - 2 列以及摆好，且从第 i - 1 列横着摆放的小方块伸到第 i 列的状态为 j 的方案数。

状态转移：

j 的状态是固定的，枚举 i - 1 列的所有状态 k，将 k 和 j 进行拼接，检查是否合法，若合法 f\[i][j] += f\[i-1][k]。

